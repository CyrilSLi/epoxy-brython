if(void 0===_epoxyPolyfillClient){console.log("loading epoxy-tls from Brython polyfill");var _epoxyPolyfillClient=null,_epoxyPolyfillQueue=[];import("https://cdn.jsdelivr.net/npm/@mercuryworkshop/epoxy-tls/full/epoxy-bundled.min.js").then(e=>e.default().then(()=>{const t=new e.EpoxyClientOptions({user_agent:navigator.userAgent,wisp_v2:!0,udp_extension_required:!0});for(_epoxyPolyfillClient=new e.EpoxyClient("wss://wisp.mercurywork.shop",t);_epoxyPolyfillQueue.length>0;)_epoxyPolyfillQueue.shift()();console.log("epoxy-tls loaded successfully")},e=>console.error("Error initializing epoxy-tls:",e)),e=>console.error("Error loading epoxy-tls:",e))}{let e=$B.imported.browser;$B.imported.browser=new Proxy(e,{set(t,s,r){if(t[s]=r,"ajax"==s&&void 0!==$B.imported.browser.ajax?.ajax?.$factory){$B.imported.browser=e;const t=$B.imported.browser.ajax.ajax;t.$factory=function(){var e={__class__:t,__dict__:$B.empty_dict(),headers:{}};return e.js=new class extends EventTarget{UNSENT=0;OPENED=1;HEADERS_RECEIVED=2;LOADING=3;DONE=4;#e;#t;#s;#r;#i;#o;#n;#a;constructor(){super(),this.#l(),this.#r=null,this.timeout=0,this.responseType="",this.withCredentials=!1,this.#h(["abort","error","load","loadend","loadstart","progress","readystatechange","timeout"],this),this.#h(["abort","error","load","loadend","loadstart","progress","timeout"],this.upload)}#h(e,t){for(let s of e)t["on"+s]=null}#l(){this.#e=0,this.#t=null,this.#s=null,this.#o=null,this.#n={},this.#a=!1,this.#i=new EventTarget}#p(e,t){if(!t)return this.#p(e,this),void this.#p(e,this.#i);t.dispatchEvent(e);try{"function"==typeof t["on"+e.type]&&t["on"+e.type](e)}catch(e){console.error(e)}}abort(){this.#a=!0,this.readyState=this.UNSENT,this.#t=null,this.#p(new Event("abort")),this.#p(new Event("abort"),this.#i)}getAllResponseHeaders(){if(!this.#t)return"";let e="";for(let[t,s]of this.#t.headers)e+=`${t}: ${s}\r\n`;return e}getResponseHeader(e){return this.#t?this.#t.headers.get(e):""}open(e,t,s,r,i){if(!1===s)throw new DOMException("InvalidAccessError");this.#l(),this.readyState=this.OPENED,this.#o=new URL(t,location.href),this.#o.username=r||"",this.#o.password=i||"",this.#n.headers={},this.#n.method=e.toUpperCase()}overrideMimeType(e){this.#r=e}send(e){"GET"===this.#n.method&&(e=void 0),this.timeout&&setTimeout(()=>{this.readyState!==this.DONE&&this.abort()},this.timeout),this.#n.body=e||void 0;try{const e=()=>{_epoxyPolyfillClient.fetch(this.#o,this.#n).then(e=>{this.#t=e,this.readyState=this.HEADERS_RECEIVED,this.readyState=this.LOADING,this.#a||(this.#p(new ProgressEvent("loadstart")),this.#t.arrayBuffer().then(e=>{this.#s=e,this.#p(new ProgressEvent("progress")),this.readyState=this.DONE,this.#p(new ProgressEvent("load")),this.#p(new ProgressEvent("loadend"))}))})};null!=_epoxyPolyfillClient?e():_epoxyPolyfillQueue.push(e)}catch(e){this.#p(new ProgressEvent("error"))}}setRequestHeader(e,t){this.#n.headers||(this.#n.headers={}),this.#n.headers[e]=t}set readyState(t){if(t!==this.#e){this.#e=t,""!=this.responseType&&"text"!=this.responseType||(e.js.text=this.responseText);let s=this.$requestTimer;0==t&&this.onuninitialized?this.onuninitialized(e):1==t&&this.onloading?this.onloading(e):2==t&&this.onloaded?this.onloaded(e):3==t&&this.oninteractive?this.oninteractive(e):4==t&&this.oncomplete&&(null!==s&&window.clearTimeout(s),this.oncomplete(e)),this.#p(new Event("readystatechange"))}}get readyState(){return this.#e}get response(){if(null!==this.#s)if("arraybuffer"===this.responseType)try{let e=new ArrayBuffer(this.#s.byteLength);return new Uint8Array(e).set(new Uint8Array(this.#s)),e}catch(e){return null}else if("blob"===this.responseType)try{return new Blob([this.#s])}catch(e){return null}else{if("document"===this.responseType)return this.responseXML;if("json"!==this.responseType)return this.responseText;if(null===this.#s)return null;try{return JSON.parse(this.responseText)}catch(e){return null}}}get responseText(){return this.#s?(new TextDecoder).decode(this.#s):""}get responseURL(){return this.#t?this.#t.url:""}get responseXML(){if("document"!==this.responseType&&""!==this.responseType)throw new DOMException("InvalidStateError");return null===this.#t||null===this.#s?null:(new DOMParser).parseFromString(this.responseText,this.#r||"text/html")}get status(){return this.#t?this.#t.status:0}get statusText(){return this.#t?this.#t.statusText:""}get upload(){return this.#i}},e}}return!0}})}